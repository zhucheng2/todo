(function(){"use strict";var t={3668:function(t,e,a){var n=a(6369),o=function(){var t=this,e=t._self._c;return e("section",{staticClass:"todoapp"},[e("TodoHeader"),e("TodoMain"),e("TodoFooter")],1)},i=[],r=function(){var t=this,e=t._self._c;return e("header",{staticClass:"header"},[e("h1",[t._v("todos")]),e("input",{staticClass:"new-todo",style:"all"!=t.optionCur&&{paddingLeft:"16px"},attrs:{type:"text",placeholder:"what need to be done?"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItemF.apply(null,arguments)}}}),e("input",{directives:[{name:"show",rawName:"v-show",value:t.disAllCheck&&"all"==t.optionCur,expression:"disAllCheck && optionCur == 'all'"}],staticClass:"toggle-all",attrs:{type:"checkbox"},domProps:{checked:t.allSumStaus},on:{change:function(e){return t.changeSumStaus(!t.allSumStaus)}}})])},s=[],l=a(3822),u={name:"TodoHeader",computed:{...(0,l.rn)(["optionCur"]),...(0,l.Se)(["disAllCheck","allSumStaus"])},methods:{...(0,l.OI)(["addItem","changeSumStaus"]),addItemF(t){let e=t.target.value.trim();""!=e&&(this.addItem(e),t.target.value="")}}},c=u,d=a(1001),p=(0,d.Z)(c,r,s,!1,null,"6435b93e",null),f=p.exports,m=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main"},[e("TodoLoading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),e("ul",{staticClass:"todo-list"},t._l(t.filterDataList,(function(a,n){return e("li",{key:a.id,class:["todo",{editing:t.editFlag==n},{completed:a.status}],on:{dblclick:function(e){return t.inEditing(n)}}},[e("div",{staticClass:"view"},[e("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:a.status},on:{change:function(e){return t.checkItem(a.id)}}}),e("label",[t._v(t._s(a.text)),e("span",{staticClass:"time"},[t._v(t._s(t.$getDayName(a._time)))])]),e("button",{staticClass:"destroy",attrs:{title:"删除 该事项"},on:{click:function(e){return t.deleteItem(a.id)}}})]),e("TodoInput",{ref:"item",refInFor:!0,attrs:{targetItem:a.text,outEditing:t.outEditing}})],1)})),0)],1)},g=[],h=function(){var t=this,e=t._self._c;return e("input",{staticClass:"edit",staticStyle:{display:"'none'"},attrs:{type:"text",placeholder:"回 车 保 存"},domProps:{value:t.targetItem},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur()},blur:function(e){t.outEditing(e.target.value.trim(),t.targetItem)}}})},v=[],C={name:"TodoInput",data(){return{}},props:{outEditing:Function,targetItem:String}},L=C,x=(0,d.Z)(L,h,v,!1,null,"10f5b63a",null),_=x.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"onloading"},[t._v("Loading...")])},y=[],w={name:"TodoLoading"},I=w,S=(0,d.Z)(I,k,y,!1,null,"eb5fdcdc",null),D=S.exports,b={name:"TodoMain",data(){return{editFlag:-1}},components:{TodoInput:_,TodoLoading:D},computed:{...(0,l.rn)(["isLoading"]),...(0,l.Se)(["filterDataList"])},methods:{...(0,l.OI)(["checkItem","updateItem","deleteItem"]),inEditing(t){let e=this.$refs.item[t].$el;this.editFlag=t,this.$nextTick((()=>{e.focus()}))},outEditing(t,e){""!=t&&t!=e&&this.updateItem({val:t,todoItem:e}),this.editFlag=-1}}},O=b,T=(0,d.Z)(O,m,g,!1,null,"419670ee",null),F=T.exports,E=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer"},[e("span",{staticClass:"todo-count"},[e("strong",[t._v(t._s(t.leftSum))]),t._v(" items left")]),e("ul",{staticClass:"filters"},[e("li",[e("a",{class:{selected:"all"==t.optionCur},attrs:{href:"#",title:"所有事项"},on:{click:function(e){return t.$store.dispatch("changeOption","all")}}},[t._v("all")])]),e("li",[e("a",{class:{selected:"active"==t.optionCur},attrs:{href:"#",title:"待办"},on:{click:function(e){return t.$store.dispatch("changeOption","active")}}},[t._v("active")])]),e("li",[e("a",{class:{selected:"completed"==t.optionCur},attrs:{href:"#",title:"已完成"},on:{click:function(e){return t.$store.dispatch("changeOption","completed")}}},[t._v("completed")])])]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.disAllCheck,expression:"disAllCheck"}],staticClass:"clear-completed",attrs:{title:"删除 已完成事项"},on:{click:t.clearDone}},[t._v("clear completed")])])},$=[],Z={name:"TodoFooter",computed:{...(0,l.rn)(["optionCur"]),...(0,l.Se)(["leftSum","disAllCheck"])},methods:{...(0,l.OI)(["clearDone","changeOption"]),...(0,l.nv)(["changeOption"])}},P=Z,M=(0,d.Z)(P,E,$,!1,null,"0977c01f",null),A=M.exports,N={name:"App",components:{TodoHeader:f,TodoMain:F,TodoFooter:A},data(){return{}},created(){const t=this.$getData();t&&(t.dataList.sort(((t,e)=>e.id-t.id)),this.$store.replaceState(t)),window.addEventListener("beforeunload",(()=>{this.dataList.length?this.$saveData(t):this.$saveData({isLoading:!1,optionCur:"all",dataList:[{text:"吃点什么呢？？？？",_time:{currentDate:"2023/07/23",time:"20:18"},status:!1,id:0},{text:"人嘛！总得有点追求.....",_time:{currentDate:"2023/07/24",time:"10:18"},status:!1,id:2},{text:"时不我待",status:!0,_time:{currentDate:"2023/07/25",time:"10:18"},id:3}]})}))},computed:{...(0,l.rn)(["dataList"])}},j=N,Y=(0,d.Z)(j,o,i,!1,null,null,null),H=Y.exports;function J(t){t&&localStorage.setItem("todoMVC",JSON.stringify(t))}function V(){try{const t=localStorage.getItem("todoMVC");return JSON.parse(t)}catch(t){console.error("Error while loading data from localStorage:",t)}}function q(){var t=new Date,e=t.getMonth()+1,a=t.getDate(),n=t.getHours(),o=t.getMinutes();e>=1&&e<=9&&(e="0"+e),a>=0&&a<=9&&(a="0"+a),n<=9&&(n="0"+n),o<=9&&(o="0"+o);t.getFullYear().toString();var i=n+":"+o,r=t.getFullYear().toString()+"/"+e+"/"+a;t.getFullYear().toString();return{currentDate:r,time:i}}function z(t){try{var e=new Date;e=new Date(e.getFullYear(),e.getMonth(),e.getDate());var a=new Date(t.currentDate);a=new Date(a.getFullYear(),a.getMonth(),a.getDate());var n=(a-e)/1e3/60/60/24;return 0===n?"今天 "+t.time:n>=-1&&n<0?"昨天 "+t.time:n>=-2&&n<-1?"前天 "+t.time:t.currentDate}catch(o){}}a(7658);n.ZP.use(l.ZP);var B=new l.ZP.Store({state:{},getters:{disAllCheck(t){return t.dataList.length>0},allSumStaus(t){return t.dataList.length>0&&t.dataList.every((t=>t.status))},leftSum(t){return t.dataList.filter((t=>0==t.status)).length},filterDataList(t){return"active"==t.optionCur?t.dataList.filter((t=>!t.status)):"completed"==t.optionCur?t.dataList.filter((t=>t.status)):"all"==t.optionCur?t.dataList:void 0}},mutations:{addItem(t,e){if(-1==t.dataList.findIndex((t=>t.text==e))){let a={text:e,status:!1,_time:q(),id:Date.now()};t.dataList.push(a),t.dataList.sort(((t,e)=>e.id-t.id)),t.optionCur="active"}else alert("本事项 已添加，请勿重复添加！")},changeSumStaus(t,e){t.dataList.map((t=>t.status=e))},checkItem(t,e){let a=t.dataList.find((t=>t.id==e));"active"==t.optionCur?alert("已将其标记为 '已完成'！"):"completed"==t.optionCur&&alert("已将其标记为 '待办'！"),a.status=!a.status},updateItem(t,e){-1==t.dataList.findIndex((t=>t.text==e.val))?"completed"==t.optionCur&&confirm("是否将其列为 最新的 待办事项？")?(t.dataList.forEach((t=>{t.text==e.todoItem&&(t.text=e.val,t.status=!1,t._time=q(),t.id=Date.now()),console.log(t)})),t.dataList.sort(((t,e)=>e.id-t.id)),alert("已将其移至 待办！")):t.dataList.forEach((t=>{t.text==e.todoItem&&(t.text=e.val)})):console.log("本事项 已添加！")},deleteItem(t,e){t.dataList.forEach(((a,n)=>{e==a.id&&t.dataList.splice(n,1)}))},clearDone(t){t.dataList.length>0&&confirm("删除 所有 已完成事项？")&&(t.dataList=t.dataList.filter((t=>!t.status)))},changeLoading(t,e){t.isLoading=e}},actions:{changeOption({state:t,commit:e},a){e("changeLoading",!0),setTimeout((()=>{t.optionCur=a,t.isLoading=!1}),200)}}});n.ZP.prototype.$saveData=J,n.ZP.prototype.$getData=V,n.ZP.prototype.$getDayName=z,n.ZP.config.productionTip=!1,new n.ZP({store:B,render:t=>t(H)}).$mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,i){if(!n){var r=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],i=t[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(s=!1,i<r&&(r=i));if(s){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[n,o,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,r=n[0],s=n[1],l=n[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var c=l(a)}for(e&&e(n);u<r.length;u++)i=r[u],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},n=self["webpackChunktodo_vuex"]=self["webpackChunktodo_vuex"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(3668)}));n=a.O(n)})();
//# sourceMappingURL=app.e295daa0.js.map